<?xml version="1.0" encoding="utf-8" ?>

<ContentPage
        x:Class="ProdigyProjectFinal.View.ProfilePage"
        xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
        xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
        xmlns:viewmodel="clr-namespace:ProdigyProjectFinal.ViewModel"
        Title="Profile Page"
        x:DataType="viewmodel:ProfilePageViewModel"
        BackgroundColor="Cornsilk"
        FlowDirection="LeftToRight"
        Shell.BackgroundColor="DarkSeaGreen"
        Shell.FlyoutItemIsVisible="True"
        Shell.TabBarBackgroundColor="Cornsilk"
        Shell.TabBarForegroundColor="Cornsilk"
        Shell.TabBarIsVisible="true"
        Shell.TabBarTitleColor="Black">
    <VerticalStackLayout>

        <Grid ColumnDefinitions="*,*" RowDefinitions="*,*">

            <Border
                    Grid.Column="0"
                    Margin="70,50,0,0"
                    HeightRequest="440"
                    HorizontalOptions="Start"
                    StrokeShape="RoundRectangle 30"
                    StrokeThickness="0"
                    VerticalOptions="Start">


                <VerticalStackLayout
                        Padding="35"
                        BackgroundColor="#ccc2cb"
                        HorizontalOptions="Center"
                        Spacing="20"
                        VerticalOptions="Center"
                        WidthRequest="400">

                    <VerticalStackLayout Spacing="10">
                        <Label
                                CharacterSpacing="1"
                                FontFamily="lamarkieFont"
                                FontSize="20"
                                StyleClass="LoginLbl"
                                Text="change username" />
                        <Entry
                                BackgroundColor="Cornsilk"
                                StyleClass="LoginEntry"
                                Text="{Binding NewUsername}" />
                    </VerticalStackLayout>


                    <Button
                            BackgroundColor="DarkSeaGreen"
                            CharacterSpacing="1"
                            Command="{Binding ChangeUsernameBtn}"
                            FontFamily="lamarkieFont"
                            StyleClass="DarkBtn"
                            Text="confirm"
                            TextColor="Black"
                            WidthRequest="150" />

                    <VerticalStackLayout Spacing="10">
                        <Label
                                CharacterSpacing="1"
                                FontFamily="lamarkieFont"
                                FontSize="20"
                                StyleClass="LoginLbl"
                                Text="change password" />
                        <Entry
                                BackgroundColor="Cornsilk"
                                StyleClass="LoginEntry"
                                Text="{Binding NewPassword}" />
                    </VerticalStackLayout>

                    <Button
                            Grid.Row="3"
                            Grid.Column="1"
                            BackgroundColor="DarkSeaGreen"
                            CharacterSpacing="1"
                            Command="{Binding ChangePasswordBtn}"
                            FontFamily="lamarkieFont"
                            StyleClass="DarkBtn"
                            Text="confirm"
                            TextColor="Black"
                            WidthRequest="150" />

                </VerticalStackLayout>
            </Border>





            <Label
                    Grid.Row="1"
                    Grid.Column="1"
                    Margin="80,-100,20,0"
                    CharacterSpacing="1"
                    FontFamily="lamarkieFont"
                    FontSize="22"
                    HeightRequest="620"
                    HorizontalOptions="Center"
                    Text="{Binding User.Username, StringFormat='current username: {0}'}"
                    WidthRequest="400" />

            <Image
                    Grid.Row="0"
                    Grid.Column="1"
                    HeightRequest="280"
                    HorizontalOptions="Center"
                    Source="profile_icon.png"
                    WidthRequest="400" />

            <Border
                    Grid.Row="1"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Margin="80,50,0,0"
                    HeightRequest="300"
                    HorizontalOptions="Start"
                    StrokeShape="RoundRectangle 30"
                    StrokeThickness="0"
                    VerticalOptions="Start">
                <VerticalStackLayout
                        Padding="35"
                        BackgroundColor="DarkSeaGreen"
                        HorizontalOptions="Fill"
                        Spacing="20"
                        VerticalOptions="Center"
                        WidthRequest="800">


                    <Label
                            Margin="0,-35,0,0"
                            CharacterSpacing="1"
                            FontFamily="lamarkieFont"
                            FontSize="Large"
                            HeightRequest="700"
                            HorizontalOptions="Start"
                            Text="{Binding User.FirstName, StringFormat='{0}s favourite books'}" />


                    <Button
                            BackgroundColor="White"
                            FontAttributes="Italic"
                            FontFamily="robotoFont"
                            FontSize="Large"
                            HeightRequest="500"
                            Text="add books"
                            TextColor="Aqua"
                            VerticalOptions="Start"
                            WidthRequest="600" />

                </VerticalStackLayout>
            </Border>


        </Grid>




    </VerticalStackLayout>
</ContentPage>